{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/leo_yjjxu2w/OneDrive/Dokumente/GitHub/PC-Building-Website/Test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nexport class AssignmentComponent {\n  fetchAssignment(token) {\n    return _asyncToGenerator(function* () {\n      let tokenstr = yield token;\n      let response = yield fetch(`http://localhost:8080/api/getAssignments/${tokenstr}`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const assignments = [];\n      const json = yield response.json();\n      json.forEach(assignment => {\n        assignments.push({\n          title: assignment.title,\n          description: assignment.description,\n          completed: assignment.completed\n        });\n      });\n      return assignments;\n    })();\n  }\n  fetchToken(user, pass) {\n    return _asyncToGenerator(function* () {\n      let response = yield fetch(\"https://edufs.edu.htl-leonding.ac.at/moodle/login/token.php?username=\" + user + \"&password=\" + pass + \"&service=moodle_mobile_app\");\n      const json = yield response.json();\n      console.log(json);\n      console.log(json.token);\n      return json.token;\n    })();\n  }\n  getAllAssignments() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      let div = document.getElementById(\"assignmentDiv\");\n      let username = document.getElementById(\"username\");\n      let password = document.getElementById(\"password\");\n      let token = _this.fetchToken(username.value, password.value);\n      let assignments = yield _this.fetchAssignment(token);\n      console.log(assignments);\n      div.innerHTML = assignments.map(assignment => `<tr><th>${assignment.title}</th><th>${assignment.description}</th><th><input type=\"checkbox\" id=\"checkbox\" ${assignment.completed ? \"checked\" : \"\"} ></th></tr>`).join(\"\"); //<th><button id=\"deletebutton\" onclick=\"deleteTodo(${todo.id})\">DELETE</button></th>\n    })();\n  }\n\n  testmethod() {\n    return _asyncToGenerator(function* () {\n      let resp2 = yield fetch(`http://localhost:8080/api/getAssignments/a6eb55e1228fbc8e53b71cb714088e86`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const assignments = [];\n      const jso2 = yield resp2.json();\n      console.log(jso2);\n    })();\n  }\n  static #_ = this.ɵfac = function AssignmentComponent_Factory(t) {\n    return new (t || AssignmentComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AssignmentComponent,\n    selectors: [[\"app-assignment\"]],\n    decls: 19,\n    vars: 0,\n    consts: [[\"type\", \"text\", \"id\", \"username\"], [\"type\", \"text\", \"id\", \"password\"], [3, \"click\"], [\"id\", \"idontusethis\"], [\"id\", \"assignmentDiv\"]],\n    template: function AssignmentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"assignment works!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"input\", 0)(3, \"input\", 1);\n        i0.ɵɵelementStart(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function AssignmentComponent_Template_button_click_4_listener() {\n          return ctx.getAllAssignments();\n        });\n        i0.ɵɵtext(5, \"getAssignments\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function AssignmentComponent_Template_button_click_6_listener() {\n          return ctx.fetchToken(\"if210041\", \"leipHod9\");\n        });\n        i0.ɵɵtext(7, \"test\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function AssignmentComponent_Template_button_click_8_listener() {\n          return ctx.testmethod(\"if210041\", \"leipHod9\");\n        });\n        i0.ɵɵtext(9, \"testmethod\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"table\", 3)(11, \"tr\")(12, \"th\");\n        i0.ɵɵtext(13, \"ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\");\n        i0.ɵɵtext(15, \"Title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"th\");\n        i0.ɵɵtext(17, \"Completed\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(18, \"tbody\", 4);\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["AssignmentComponent","fetchAssignment","token","_asyncToGenerator","tokenstr","response","fetch","method","headers","assignments","json","forEach","assignment","push","title","description","completed","fetchToken","user","pass","console","log","getAllAssignments","_this","div","document","getElementById","username","password","value","innerHTML","map","join","testmethod","resp2","jso2","_","_2","selectors","decls","vars","consts","template","AssignmentComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","AssignmentComponent_Template_button_click_4_listener","AssignmentComponent_Template_button_click_6_listener","AssignmentComponent_Template_button_click_8_listener"],"sources":["C:\\Users\\leo_yjjxu2w\\OneDrive\\Dokumente\\GitHub\\PC-Building-Website\\Test\\src\\app\\assignment\\assignment.component.ts","C:\\Users\\leo_yjjxu2w\\OneDrive\\Dokumente\\GitHub\\PC-Building-Website\\Test\\src\\app\\assignment\\assignment.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-assignment',\r\n  templateUrl: './assignment.component.html',\r\n  styleUrls: ['./assignment.component.scss']\r\n})\r\n\r\n \r\n\r\nexport class AssignmentComponent {\r\n  \r\n  async fetchAssignment(token:Promise<String>) : Promise<Assignment[]> {\r\n    let tokenstr : String = await token;\r\n    let response = await fetch(`http://localhost:8080/api/getAssignments/${tokenstr}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    });\r\n    const assignments : Assignment[] = [];\r\n    const json = await response.json();\r\n    json.forEach((assignment: any) => {\r\n      assignments.push({\r\n        title: assignment.title,\r\n        description: assignment.description,\r\n        completed: assignment.completed\r\n      });\r\n    });\r\n    return assignments;\r\n  }\r\n  \r\n  async fetchToken(user:String, pass:String):Promise<String> {\r\n    let response = await fetch(\"https://edufs.edu.htl-leonding.ac.at/moodle/login/token.php?username=\" + user + \"&password=\" + pass + \"&service=moodle_mobile_app\")\r\n\r\n    const json = await response.json();\r\n    console.log(json);\r\n    console.log(json.token);\r\n    return json.token;\r\n  }\r\n  async getAllAssignments() {\r\n    let div = document.getElementById(\"assignmentDiv\");\r\n    let username = document.getElementById(\"username\") as HTMLInputElement;\r\n    let password = document.getElementById(\"password\") as HTMLInputElement;\r\n    let token = this.fetchToken(username.value, password.value);\r\n    let assignments = await this.fetchAssignment(token);\r\n    console.log(assignments);\r\n    div!.innerHTML = assignments.map((assignment: any) => `<tr><th>${assignment.title}</th><th>${assignment.description}</th><th><input type=\"checkbox\" id=\"checkbox\" ${assignment.completed ? \"checked\":\"\"} ></th></tr>`).join(\"\"); //<th><button id=\"deletebutton\" onclick=\"deleteTodo(${todo.id})\">DELETE</button></th>\r\n  }\r\n\r\n  async testmethod() {\r\n    let resp2 = await fetch(`http://localhost:8080/api/getAssignments/a6eb55e1228fbc8e53b71cb714088e86`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    });\r\n    const assignments : Assignment[] = [];\r\n    const jso2 = await resp2.json();\r\n    console.log(jso2);\r\n  }\r\n}\r\ninterface Assignment {\r\n  title: String;\r\n  description: String;\r\n  completed: boolean;\r\n}\r\n","<p>assignment works!</p>\r\n<input type=\"text\" id=\"username\">\r\n<input type=\"text\" id=\"password\">\r\n<button (click)=\"getAllAssignments()\">getAssignments</button>\r\n<button (click)=\"fetchToken('if210041', 'leipHod9')\" >test</button>\r\n<button (click)=\"testmethod('if210041', 'leipHod9')\" >testmethod</button>\r\n<table id=\"idontusethis\">\r\n    <tr>\r\n        <th>ID</th>\r\n        <th>Title</th>\r\n        <th>Completed</th>\r\n    </tr>\r\n    <tbody id=\"assignmentDiv\"></tbody>\r\n</table>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}