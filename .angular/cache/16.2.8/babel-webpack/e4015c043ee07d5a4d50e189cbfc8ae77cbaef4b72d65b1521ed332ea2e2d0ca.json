{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let AssignmentComponent = class AssignmentComponent {\n  fetchAssignment(token) {\n    let response = fetch(`http://localhost:8080/api/getAssignments/${token}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    response.then(res => {\n      return res.json().then(data => {\n        return data;\n      });\n    });\n  }\n  fetchToken(username, password) {\n    let response = fetch(\"https://edufs.edu.htl-leonding.ac.at/moodle/login/token.php?service=moodle_mobile_app\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    });\n    response.then(res => {\n      return res.json().then(data => {\n        console.log(data.token);\n        return data.token.toString();\n      });\n    });\n    return \"no token found\";\n  }\n  getAllAssignments() {\n    let div = document.getElementById(\"assignmentDiv\");\n    let username = document.getElementById(\"username\");\n    let password = document.getElementById(\"password\");\n    let token = this.fetchToken(\"username\", \"password\");\n    let assignments = this.fetchAssignment(token);\n    div.innerHTML = assignments.map(assignment => `<tr><th>${assignment.title}</th><th>${assignment.description}</th><th><input type=\"checkbox\" id=\"checkbox\" ${assignment.completed ? \"checked\" : \"\"} ></th></tr>`).join(\"\"); //<th><button id=\"deletebutton\" onclick=\"deleteTodo(${todo.id})\">DELETE</button></th>\n  }\n};\n\nAssignmentComponent = __decorate([Component({\n  selector: 'app-assignment',\n  templateUrl: './assignment.component.html',\n  styleUrls: ['./assignment.component.scss']\n})], AssignmentComponent);","map":{"version":3,"names":["Component","AssignmentComponent","fetchAssignment","token","response","fetch","method","headers","then","res","json","data","fetchToken","username","password","body","JSON","stringify","console","log","toString","getAllAssignments","div","document","getElementById","assignments","innerHTML","map","assignment","title","description","completed","join","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\leo_yjjxu2w\\OneDrive\\Dokumente\\GitHub\\PC-Building-Website\\Test\\src\\app\\assignment\\assignment.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-assignment',\r\n  templateUrl: './assignment.component.html',\r\n  styleUrls: ['./assignment.component.scss']\r\n})\r\n\r\n \r\n\r\nexport class AssignmentComponent {\r\n  \r\n  fetchAssignment(token:String) : any {\r\n    let response = fetch(`http://localhost:8080/api/getAssignments/${token}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    });\r\n    response.then((res) => {\r\n      return res.json().then((data) => {\r\n        return data;\r\n      });\r\n    });\r\n  }\r\n  fetchToken(username:String, password:String):String {\r\n    let response = fetch(\"https://edufs.edu.htl-leonding.ac.at/moodle/login/token.php?service=moodle_mobile_app\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        username: username,\r\n        password: password\r\n      })\r\n    });\r\n    response.then((res) => {\r\n      return res.json().then((data) => {\r\n        console.log(data.token);\r\n        return data.token.toString();\r\n      });\r\n    });\r\n    return \"no token found\";\r\n  }\r\n  getAllAssignments() {\r\n    let div = document.getElementById(\"assignmentDiv\");\r\n    let username = document.getElementById(\"username\") as HTMLInputElement;\r\n    let password = document.getElementById(\"password\") as HTMLInputElement;\r\n    let token: String = this.fetchToken(\"username\", \"password\");\r\n    let assignments = this.fetchAssignment(token);\r\n    div!.innerHTML = assignments.map((assignment: any) => `<tr><th>${assignment.title}</th><th>${assignment.description}</th><th><input type=\"checkbox\" id=\"checkbox\" ${assignment.completed ? \"checked\":\"\"} ></th></tr>`).join(\"\"); //<th><button id=\"deletebutton\" onclick=\"deleteTodo(${todo.id})\">DELETE</button></th>\r\n  }\r\n}\r\ninterface Assignment {\r\n  title: String;\r\n  description: String;\r\n  completed: boolean;\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,WAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAE9BC,eAAeA,CAACC,KAAY;IAC1B,IAAIC,QAAQ,GAAGC,KAAK,CAAC,4CAA4CF,KAAK,EAAE,EAAE;MACxEG,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;;KAEnB,CAAC;IACFH,QAAQ,CAACI,IAAI,CAAEC,GAAG,IAAI;MACpB,OAAOA,GAAG,CAACC,IAAI,EAAE,CAACF,IAAI,CAAEG,IAAI,IAAI;QAC9B,OAAOA,IAAI;MACb,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAC,UAAUA,CAACC,QAAe,EAAEC,QAAe;IACzC,IAAIV,QAAQ,GAAGC,KAAK,CAAC,uFAAuF,EAAE;MAC5GC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;OACjB;MACDQ,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBJ,QAAQ,EAAEA,QAAQ;QAClBC,QAAQ,EAAEA;OACX;KACF,CAAC;IACFV,QAAQ,CAACI,IAAI,CAAEC,GAAG,IAAI;MACpB,OAAOA,GAAG,CAACC,IAAI,EAAE,CAACF,IAAI,CAAEG,IAAI,IAAI;QAC9BO,OAAO,CAACC,GAAG,CAACR,IAAI,CAACR,KAAK,CAAC;QACvB,OAAOQ,IAAI,CAACR,KAAK,CAACiB,QAAQ,EAAE;MAC9B,CAAC,CAAC;IACJ,CAAC,CAAC;IACF,OAAO,gBAAgB;EACzB;EACAC,iBAAiBA,CAAA;IACf,IAAIC,GAAG,GAAGC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;IAClD,IAAIX,QAAQ,GAAGU,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAqB;IACtE,IAAIV,QAAQ,GAAGS,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAqB;IACtE,IAAIrB,KAAK,GAAW,IAAI,CAACS,UAAU,CAAC,UAAU,EAAE,UAAU,CAAC;IAC3D,IAAIa,WAAW,GAAG,IAAI,CAACvB,eAAe,CAACC,KAAK,CAAC;IAC7CmB,GAAI,CAACI,SAAS,GAAGD,WAAW,CAACE,GAAG,CAAEC,UAAe,IAAK,WAAWA,UAAU,CAACC,KAAK,YAAYD,UAAU,CAACE,WAAW,iDAAiDF,UAAU,CAACG,SAAS,GAAG,SAAS,GAAC,EAAE,cAAc,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;EACnO;CACD;;AA1CY/B,mBAAmB,GAAAgC,UAAA,EAR/BjC,SAAS,CAAC;EACTkC,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,C,EAIWnC,mBAAmB,CA0C/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}