{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class AssignmentComponent {\n  fetchAssignment(token) {\n    let response = fetch(`http://localhost:8080/api/getAssignments/${token}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    response.then(res => {\n      return res.json().then(data => {\n        return data;\n      });\n    });\n  }\n  fetchToken(username, password) {\n    let response = fetch(\"https://edufs.edu.htl-leonding.ac.at/moodle/login/token.php?service=moodle_mobile_app\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    });\n    response.then(res => {\n      return res.json().then(data => {\n        console.log(data.token);\n        return data.token.toString();\n      });\n    });\n    return \"no token found\";\n  }\n  getAllAssignments() {\n    let div = document.getElementById(\"assignmentDiv\");\n    let username = document.getElementById(\"username\");\n    let password = document.getElementById(\"password\");\n    let token = this.fetchToken(\"username\", \"password\");\n    let assignments = this.fetchAssignment(token);\n    div.innerHTML = assignments.map(assignment => `<tr><th>${assignment.title}</th><th>${assignment.description}</th><th><input type=\"checkbox\" id=\"checkbox\" ${assignment.completed ? \"checked\" : \"\"} ></th></tr>`).join(\"\"); //<th><button id=\"deletebutton\" onclick=\"deleteTodo(${todo.id})\">DELETE</button></th>\n  }\n  static #_ = this.ɵfac = function AssignmentComponent_Factory(t) {\n    return new (t || AssignmentComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AssignmentComponent,\n    selectors: [[\"app-assignment\"]],\n    decls: 17,\n    vars: 0,\n    consts: [[\"type\", \"text\", \"id\", \"username\"], [\"type\", \"text\", \"id\", \"password\"], [3, \"click\"], [\"id\", \"idontusethis\"], [\"id\", \"assignmentDiv\"]],\n    template: function AssignmentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"assignment works!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"input\", 0)(3, \"input\", 1);\n        i0.ɵɵelementStart(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function AssignmentComponent_Template_button_click_4_listener() {\n          return ctx.getAllAssignments();\n        });\n        i0.ɵɵtext(5, \"getAssignments\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function AssignmentComponent_Template_button_click_6_listener() {\n          return ctx.fetchToken(\"if210041\", \"leipHod9\");\n        });\n        i0.ɵɵtext(7, \"test\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"table\", 3)(9, \"tr\")(10, \"th\");\n        i0.ɵɵtext(11, \"ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\");\n        i0.ɵɵtext(13, \"Title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\");\n        i0.ɵɵtext(15, \"Completed\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(16, \"tbody\", 4);\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["AssignmentComponent","fetchAssignment","token","response","fetch","method","headers","then","res","json","data","fetchToken","username","password","body","JSON","stringify","console","log","toString","getAllAssignments","div","document","getElementById","assignments","innerHTML","map","assignment","title","description","completed","join","_","_2","selectors","decls","vars","consts","template","AssignmentComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","AssignmentComponent_Template_button_click_4_listener","AssignmentComponent_Template_button_click_6_listener"],"sources":["C:\\Users\\leo_yjjxu2w\\OneDrive\\Dokumente\\GitHub\\PC-Building-Website\\Test\\src\\app\\assignment\\assignment.component.ts","C:\\Users\\leo_yjjxu2w\\OneDrive\\Dokumente\\GitHub\\PC-Building-Website\\Test\\src\\app\\assignment\\assignment.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-assignment',\r\n  templateUrl: './assignment.component.html',\r\n  styleUrls: ['./assignment.component.scss']\r\n})\r\n\r\n \r\n\r\nexport class AssignmentComponent {\r\n  \r\n  fetchAssignment(token:String) : any {\r\n    let response = fetch(`http://localhost:8080/api/getAssignments/${token}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    });\r\n    response.then((res) => {\r\n      return res.json().then((data) => {\r\n        return data;\r\n      });\r\n    });\r\n  }\r\n  fetchToken(username:String, password:String):String {\r\n    let response = fetch(\"https://edufs.edu.htl-leonding.ac.at/moodle/login/token.php?service=moodle_mobile_app\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        username: username,\r\n        password: password\r\n      })\r\n    });\r\n    response.then((res) => {\r\n      return res.json().then((data) => {\r\n        console.log(data.token);\r\n        return data.token.toString();\r\n      });\r\n    });\r\n    return \"no token found\";\r\n  }\r\n  getAllAssignments() {\r\n    let div = document.getElementById(\"assignmentDiv\");\r\n    let username = document.getElementById(\"username\") as HTMLInputElement;\r\n    let password = document.getElementById(\"password\") as HTMLInputElement;\r\n    let token: String = this.fetchToken(\"username\", \"password\");\r\n    let assignments = this.fetchAssignment(token);\r\n    div!.innerHTML = assignments.map((assignment: any) => `<tr><th>${assignment.title}</th><th>${assignment.description}</th><th><input type=\"checkbox\" id=\"checkbox\" ${assignment.completed ? \"checked\":\"\"} ></th></tr>`).join(\"\"); //<th><button id=\"deletebutton\" onclick=\"deleteTodo(${todo.id})\">DELETE</button></th>\r\n  }\r\n}\r\ninterface Assignment {\r\n  title: String;\r\n  description: String;\r\n  completed: boolean;\r\n}\r\n","<p>assignment works!</p>\r\n<input type=\"text\" id=\"username\">\r\n<input type=\"text\" id=\"password\">\r\n<button (click)=\"getAllAssignments()\">getAssignments</button>\r\n<button (click)=\"fetchToken('if210041', 'leipHod9')\" >test</button>\r\n<table id=\"idontusethis\">\r\n    <tr>\r\n        <th>ID</th>\r\n        <th>Title</th>\r\n        <th>Completed</th>\r\n    </tr>\r\n    <tbody id=\"assignmentDiv\"></tbody>\r\n</table>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}